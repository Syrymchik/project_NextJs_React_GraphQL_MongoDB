{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Good\\\\Desktop\\\\Graphql\\\\gateway\\\\src\\\\pages\\\\search.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Fragment, Component } from 'react';\nimport Nav from '../component/nav/nav';\nimport TableComponent from '../component/table/table';\nimport TopicSearch from '../component/topic_search/topic_search';\nimport { getAllPostsByText } from '../lib/api';\nimport Pagination from \"../component/pagination/pagination\";\n\nclass Index extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      message: 'props is work'\n    });\n  }\n\n  render() {\n    const {\n      posts,\n      query,\n      beforeOld,\n      afterOld\n    } = this.props;\n    const {\n      topics,\n      dist,\n      before,\n      after\n    } = posts;\n    const {\n      text,\n      limit\n    } = query;\n    const index = 'search';\n    console.log('Search page : ' + limit);\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 13\n      }\n    }, __jsx(Nav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }\n    }), __jsx(TopicSearch, {\n      text: text,\n      limit: limit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }\n    }), __jsx(Pagination, {\n      after: after,\n      afterOld: afterOld,\n      before: before,\n      beforeOld: beforeOld,\n      index: index,\n      limit: limit,\n      text: text,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }\n    }), __jsx(TableComponent, {\n      list: topics,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default Index;\nexport async function getServerSideProps(context) {\n  const {\n    query\n  } = context;\n  const {\n    limit = 10,\n    after = '',\n    before = '',\n    text = ''\n  } = query;\n  const afterOld = after,\n        beforeOld = before;\n  const result = (await getAllPostsByText(limit, after, before, text)) || [];\n  const posts = result.search || [];\n  return {\n    props: {\n      posts,\n      query,\n      afterOld,\n      beforeOld\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/Good/Desktop/Graphql/gateway/src/pages/search.js"],"names":["React","Fragment","Component","Nav","TableComponent","TopicSearch","getAllPostsByText","Pagination","Index","message","render","posts","query","beforeOld","afterOld","props","topics","dist","before","after","text","limit","index","console","log","getServerSideProps","context","result","search"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,GAAP,MAAgB,sBAAhB;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AACA,OAAOC,WAAP,MAAwB,wCAAxB;AAEA,SAASC,iBAAT,QAAkC,YAAlC;AACA,OAAOC,UAAP,MAAuB,oCAAvB;;AAGA,MAAMC,KAAN,SAAoBN,SAApB,CAA8B;AAAA;AAAA;;AAAA,mCAElB;AACJO,MAAAA,OAAO,EAAE;AADL,KAFkB;AAAA;;AAM1BC,EAAAA,MAAM,GAAE;AACJ,UAAM;AAAEC,MAAAA,KAAF;AAASC,MAAAA,KAAT;AAAgBC,MAAAA,SAAhB;AAA2BC,MAAAA;AAA3B,QAAyC,KAAKC,KAApD;AACA,UAAM;AAAEC,MAAAA,MAAF;AAAUC,MAAAA,IAAV;AAAgBC,MAAAA,MAAhB;AAAwBC,MAAAA;AAAxB,QAAkCR,KAAxC;AACA,UAAM;AAAES,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBT,KAAxB;AACA,UAAMU,KAAK,GAAG,QAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBH,KAA/B;AAEA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,MAAC,WAAD;AAAa,MAAA,IAAI,EAAED,IAAnB;AAAyB,MAAA,KAAK,EAAEC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI,MAAC,UAAD;AAAY,MAAA,KAAK,EAAEF,KAAnB;AAA0B,MAAA,QAAQ,EAAEL,QAApC;AAA8C,MAAA,MAAM,EAAEI,MAAtD;AAA8D,MAAA,SAAS,EAAEL,SAAzE;AAAoF,MAAA,KAAK,EAAES,KAA3F;AAAkG,MAAA,KAAK,EAAED,KAAzG;AAAgH,MAAA,IAAI,EAAED,IAAtH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAII,MAAC,cAAD;AAAgB,MAAA,IAAI,EAAEJ,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CADJ;AAQH;;AArByB;;AAwB9B,eAAeR,KAAf;AAGA,OAAO,eAAeiB,kBAAf,CAAkCC,OAAlC,EAA2C;AAE9C,QAAM;AAAEd,IAAAA;AAAF,MAAWc,OAAjB;AACA,QAAM;AAAEL,IAAAA,KAAK,GAAG,EAAV;AAAcF,IAAAA,KAAK,GAAG,EAAtB;AAA0BD,IAAAA,MAAM,GAAG,EAAnC;AAAuCE,IAAAA,IAAI,GAAG;AAA9C,MAAqDR,KAA3D;AACA,QAAME,QAAQ,GAAGK,KAAjB;AAAA,QAAwBN,SAAS,GAAGK,MAApC;AAEA,QAAMS,MAAM,GAAG,CAAC,MAAMrB,iBAAiB,CAACe,KAAD,EAAQF,KAAR,EAAeD,MAAf,EAAuBE,IAAvB,CAAxB,KAAyD,EAAxE;AAGA,QAAMT,KAAK,GAAGgB,MAAM,CAACC,MAAP,IAAiB,EAA/B;AAGA,SAAO;AACHb,IAAAA,KAAK,EAAE;AACHJ,MAAAA,KADG;AAEHC,MAAAA,KAFG;AAGHE,MAAAA,QAHG;AAIHD,MAAAA;AAJG;AADJ,GAAP;AAQH","sourcesContent":["import React, { Fragment, Component } from 'react';\nimport Nav from '../component/nav/nav'\nimport TableComponent from '../component/table/table'\nimport TopicSearch from '../component/topic_search/topic_search'\n\nimport { getAllPostsByText } from '../lib/api'\nimport Pagination from \"../component/pagination/pagination\";\n\n\nclass Index extends Component {\n\n    state = {\n        message: 'props is work'\n    };\n\n    render(){\n        const { posts, query, beforeOld, afterOld  } = this.props;\n        const { topics, dist, before, after } = posts;\n        const { text, limit } = query;\n        const index = 'search';\n        console.log('Search page : ' + limit);\n\n        return(\n            <div>\n                <Nav/>\n                <TopicSearch text={text} limit={limit}/>\n                <Pagination after={after} afterOld={afterOld} before={before} beforeOld={beforeOld} index={index} limit={limit} text={text} />\n                <TableComponent list={topics} />\n            </div>\n        )\n    }\n}\n\nexport default Index;\n\n\nexport async function getServerSideProps(context) {\n\n    const { query} = context;\n    const { limit = 10, after = '', before = '', text = '' } = query;\n    const afterOld = after, beforeOld = before;\n\n    const result = (await getAllPostsByText(limit, after, before, text)) || [];\n\n\n    const posts = result.search || [];\n\n\n    return {\n        props: {\n            posts,\n            query,\n            afterOld,\n            beforeOld,\n        },\n    }\n}\n"]},"metadata":{},"sourceType":"module"}