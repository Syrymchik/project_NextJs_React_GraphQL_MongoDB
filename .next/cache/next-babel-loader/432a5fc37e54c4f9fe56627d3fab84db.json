{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Good\\\\Desktop\\\\Graphql\\\\gateway\\\\src\\\\pages\\\\[index].js\";\nvar __jsx = React.createElement;\nimport React, { Fragment, Component } from 'react';\nimport Nav from '../component/nav/nav';\nimport TableComponent from '../component/table/table';\nimport TopicSearch from '../component/topic_search/topic_search';\nimport Pagination from '../component/pagination/pagination';\n\nclass Index extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      message: 'props is work'\n    });\n  }\n\n  render() {\n    const {\n      index,\n      posts,\n      query,\n      beforeOld,\n      afterOld\n    } = this.props;\n    const {\n      topics,\n      dist,\n      before,\n      after\n    } = posts;\n    const {\n      limit\n    } = query;\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 13\n      }\n    }, __jsx(Nav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 17\n      }\n    }), __jsx(TableComponent, {\n      list: topics,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport var __N_SSP = true;\nexport default Index;","map":{"version":3,"sources":["C:/Users/Good/Desktop/Graphql/gateway/src/pages/[index].js"],"names":["React","Fragment","Component","Nav","TableComponent","TopicSearch","Pagination","Index","message","render","index","posts","query","beforeOld","afterOld","props","topics","dist","before","after","limit"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,GAAP,MAAgB,sBAAhB;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AACA,OAAOC,WAAP,MAAwB,wCAAxB;AACA,OAAOC,UAAP,MAAuB,oCAAvB;;AAKA,MAAMC,KAAN,SAAoBL,SAApB,CAA8B;AAAA;AAAA;;AAAA,mCAElB;AACJM,MAAAA,OAAO,EAAE;AADL,KAFkB;AAAA;;AAM1BC,EAAAA,MAAM,GAAE;AACJ,UAAM;AAAEC,MAAAA,KAAF;AAASC,MAAAA,KAAT;AAAgBC,MAAAA,KAAhB;AAAuBC,MAAAA,SAAvB;AAAkCC,MAAAA;AAAlC,QAA+C,KAAKC,KAA1D;AACA,UAAM;AAAEC,MAAAA,MAAF;AAAUC,MAAAA,IAAV;AAAgBC,MAAAA,MAAhB;AAAwBC,MAAAA;AAAxB,QAAkCR,KAAxC;AACA,UAAM;AAAES,MAAAA;AAAF,QAAYR,KAAlB;AAEA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAGI,MAAC,cAAD;AAAgB,MAAA,IAAI,EAAEI,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,CADJ;AAOH;;AAlByB;;;AAqB9B,eAAeT,KAAf","sourcesContent":["import React, { Fragment, Component } from 'react';\nimport Nav from '../component/nav/nav'\nimport TableComponent from '../component/table/table'\nimport TopicSearch from '../component/topic_search/topic_search'\nimport Pagination from '../component/pagination/pagination'\n\nimport { getAllPosts } from '../lib/api'\n\n\nclass Index extends Component {\n\n    state = {\n        message: 'props is work'\n    };\n\n    render(){\n        const { index, posts, query, beforeOld, afterOld } = this.props;\n        const { topics, dist, before, after } = posts;\n        const { limit } = query;\n\n        return(\n            <div>\n                <Nav/>\n                {/*<Pagination after={after} afterOld={afterOld} before={before} beforeOld={beforeOld} index={index} limit={limit} />*/}\n                <TableComponent list={topics} />\n            </div>\n        )\n    }\n}\n\nexport default Index;\n\n\nexport async function getServerSideProps(context) {\n\n    const { query, params } = context;\n    const { limit = 10, after = '', before = '' } = query;\n    const { index } = params;\n    const afterOld = after, beforeOld = before;\n\n    const result = (await getAllPosts(index, limit, after, before)) || [];\n\n\n    const posts = result[index] || [];\n\n    // console.log('FetchAPI : ' + JSON.stringify(list));\n\n    return {\n        props: {\n            posts,\n            query,\n            index,\n            afterOld,\n            beforeOld,\n        },\n    }\n}\n"]},"metadata":{},"sourceType":"module"}